# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

Архитектура приложенияАрхитектура приложенияАрхитектура приложения

## Паттер разработки пользовательского интерфейса - MVP
В нём приложение делится на три основных компонента:
1.	Модель (model) отвечает за получение данных, композирует апи, выполняет все действия с данными, хранит актуальное состояние
2.	Вид или Представление (view) отвечает за вывод данных на экран в нужном виде, сообщает о событиях (но ничего с ними не делает)
3.	Представитель (presenter) служит прослойкой между моделью и представлением. Код презентера не будет выделен в отдельный класс и будет размещен в скрипте index-ts

## Основные части архитектуры проекта
- данные – определяют состояние и логику приложения
- отображение – отвечает за вывод данных пользователю, чтобы он мог с ними взаимодействовать
- промежуточные системы – механизмы взаимодействия пользователя с элементами приложения
- сервер – место хранения данных, отвечает за прием, обновление и отправку данных  


## Анализ приложения:
1.  Главная страница:
- корзина со счетчиком, в ней отображается количество выбранных товаров
- блок с карточками товара, из которых можно выбирать и при клике будет открываться карточка нужного товара
- карточки товара содержат категорию (category), название (title), изображение (image), стоимость (price)

2.  Информация о товаре
При нажатии на карточку товара открывается модальное окно с информацией о товаре. Это контейнер, он будет повторяться для всех карточек, таким образом, это компонент (ProductItem). Внутри него мы будем отображать информацию о товаре. Каждое модальное окно будет включать в себя информацию из карточки товара (категорию (category), название (title), изображение (image), стоимость (price)), а также дополнительно еще описание (description) и действия (кнопка «Купить/В корзину?», кнопка закрытия модального окна).

3.	Открытие Корзины. В корзину мы можем попасть через счетчик или после добавления товара в корзину. В корзине мы видим список товаров, по каждому товару указано название (title), стоимость (price), общую стоимость (total). 
Возможные действия в этом шаге:
- каждый товар можно по-отдельности удалить
- оформить заказ (кнопка «Оформить»)
- кнопка закрытия модального окна Корзины

4.	Оформление заказа: необходимо заполнить адрес доставки, выбрать способ оплаты (онлайн или при получении). При выполнении этих действий кнопка «Далее» становится активной и можно перейти к следующему шагу.

5.	Заполнение контактных данных (email, телефон). При выполнении этих действий кнопка «Оплатить» становится активной и можно перейти к следующему шагу.

6.	Экран успеха. Выводится общая стоимость купленных товаров (total). Это окно можно использовать в других проектах, поэтому вынесем его в общие компоненты.


## Данные, используемые в приложении
1. Интерфейсы:
- IMainPage - - интерфейс главной страницы магазина
- IProductItem - интерфейс карточки товара
- IBasketModel - интерфейс корзины товаров
- IOrderData - интерфейс со всеми данными заказа и покупателя
- IAddressForm - интерфейс с данными покупателя (адрес и способ оплаты)
- IContactsForm интерфейс с данными покупателя (контактные данные)
- IOrderSuccess - интерфейс успешного оформления заказа (экран успеха)
- IAppState – интерфейс текущего состояния приложения 

2. Компоненты:
- MainPage - главная страница магазина
- ProductItem - карточка товара
- Basket - корзина 
- AddressForm - форма заказа, где покупатель сообщает способ оплаты и адрес
- ContactsForm - форма для ввода данных покупателя
- OrderSuccess - экран успеха
- AppState - главная модель приложения, отвечает за его текущее состояние.

3. Базовые классы:
- MainPage - класс, отвечающий за отображение главной страницы магазина
- ProductItem - класс, отвечающий за отображение карточки товара
- Basket - класс, отвечающий за работу корзины, обеспечивает отображение выбранных товаров в заказе и их общей стоимостю 
- AddressForm - класс, отвечающий за работу формы заказа, в которой пользователь выбирает способ оплаты и указывает адрес
- ContactsForm - класс, отвечающий за работу формы заказа, в которой пользователь указывает конткактные данные (email и телефон)
- OrderSuccess - класс, отвечающий за отображение экрана успеха, отображает общую стоимость купленных товаров (total)
- AppState - главная модель данных, обеспечивает работу всего приложения и связь всех компонтентов, управляет корзиной, сбором и проверкой данных для оформления заказа
- EventEmitter - обеспечивает работу событий. Его функции: возможность установить и снять слушателей событий, вызвать слушателей при возникновении события
- Api - обеспечивает взаимодействие с сервером, выполняет GET и POST запросы для получения данных и отправки данных (заказа)
- Component<T> - базовый класс, отвечает за инструментарий для работы с DOM в дочерних компонента (помогает переключить класс, установить текстовое содержимое, сменить статус блокировки и т.д.)

## Процессы в приложении реализованы через события (событийно-ориентированный подход)
1. Действия на главной странице:
- загрузить список карточек
- выбрать товар
- открыть карточку товара
- открыть корзину

2. Выбор товаров:
- выбрать товар
- положить товар в корзину или закрыть окно товара

3. Редактирование списка товаров в корзине:
- удалить лишние товары
- перейти к оформлению заказа

4. Оформление заказа:
- выбор способа оплаты
- заполнение адреса
- заполнение email
- заполнение телефона
- оплатить (отправить) заказ